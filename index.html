<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>San ValentÃ­n ğŸ’˜</title>
  <style>
    :root { --bg:#0b0f19; --card:#121a2a; --text:#e9f0ff; }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      background: radial-gradient(1200px 700px at 70% 20%, #2b1b59 0%, transparent 60%),
                  radial-gradient(900px 600px at 20% 70%, #163b6a 0%, transparent 55%),
                  var(--bg);
      color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      overflow:hidden;
    }
    .card{
      width:min(680px,92vw); background:rgba(18,26,42,.92);
      border:1px solid rgba(255,255,255,.08);
      border-radius:24px; padding:28px; box-shadow: 0 18px 50px rgba(0,0,0,.5);
      text-align:center;
      backdrop-filter: blur(10px);
    }
    h1{ margin:0 0 10px; font-size: clamp(26px, 4.5vw, 42px); }
    p{ margin:0 0 22px; opacity:.9; font-size: clamp(16px, 2.4vw, 18px); }
    .btns{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:18px; }
    button{
      border:0; border-radius:999px; padding:14px 20px; font-size:18px;
      cursor:pointer; user-select:none; -webkit-tap-highlight-color: transparent;
      transition: transform .08s ease;
    }
    button:active{ transform: scale(.98); }
    #yes{ background: linear-gradient(135deg,#ff4d8d,#ffcc70); color:#1a1020; font-weight:700; }
    #no{
      position:fixed; left:50%; top:62%;
      transform: translate(-50%,-50%);
      background: rgba(255,255,255,.08); color:var(--text);
      border:1px solid rgba(255,255,255,.12);
      touch-action: none;
    }
    .hidden{ display:none !important; }
    .msg{
      margin-top:14px; font-size:18px; opacity:.95;
    }
    .heart{
      position:fixed; font-size:22px; pointer-events:none;
      animation: floatUp 1.6s ease-out forwards;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.35));
    }
    @keyframes floatUp{
      from{ transform: translateY(0) scale(.9); opacity:1; }
      to{ transform: translateY(-140px) scale(1.3); opacity:0; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>ğŸ’˜ Â¿Quieres ser mi San ValentÃ­n?</h1>
    <p>Prometo risas, planes bonitos y un beso por cada â€œsÃ­â€.</p>

    <div class="btns">
      <button id="yes">SÃ­ ğŸ’–</button>
    </div>

    <div class="msg" id="msg"></div>
  </div>

  <button id="no" aria-label="No">No ğŸ™ˆ</button>

  <script>
    const noBtn  = document.getElementById('no');
    const yesBtn = document.getElementById('yes');
    const msg    = document.getElementById('msg');

    let tries = 0;

    function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

    function moveNoButton() {
      tries++;

      const pad = 14;
      const w = noBtn.offsetWidth;
      const h = noBtn.offsetHeight;

      const maxX = window.innerWidth  - w - pad;
      const maxY = window.innerHeight - h - pad;

      // Evita que se vaya demasiado arriba (que tape el texto)
      const minY = Math.floor(window.innerHeight * 0.35);

      const x = Math.floor(Math.random() * (maxX - pad) + pad);
      const y = Math.floor(Math.random() * (maxY - minY) + minY);

      noBtn.style.left = clamp(x, pad, maxX) + "px";
      noBtn.style.top  = clamp(y, minY, maxY) + "px";
      noBtn.style.transform = "translate(0,0)";

      if (tries === 3) msg.textContent = "ğŸ˜… Creo que ese botÃ³n tiene vida propiaâ€¦";
      if (tries === 6) msg.textContent = "ğŸ§  Vale, esto ya es claramente ingenierÃ­a.";
      if (tries === 9) msg.textContent = "ğŸ’– Solo hay una opciÃ³n correctaâ€¦";
      if (tries >= 12) {
        // Para que sea gracioso pero no â€œinfinitoâ€, al final deja elegir:
        msg.textContent = "ğŸ˜‚ Ok ok, te dejo elegirâ€¦ (pero elijo yo que digas que sÃ­)";
        noBtn.textContent = "No (vale) ğŸ™ƒ";
        // A partir de aquÃ­ ya no esquiva siempre:
        noBtn.removeEventListener('pointerenter', moveNoButton);
      }
    }

    // PC: cuando el puntero se acerca, huye
    noBtn.addEventListener('pointerenter', moveNoButton);

    // MÃ³vil: cuando lo intenta tocar, huye
    noBtn.addEventListener('pointerdown', (e) => {
      // Si ya â€œse desbloqueÃ³â€ a tries>=12, permitirÃ¡ click normal
      if (tries < 12) {
        e.preventDefault();
        moveNoButton();
      }
    }, { passive: false });

    yesBtn.addEventListener('click', () => {
      msg.textContent = "ğŸ’Œ Â¡Siii! Te llevo a tu sorpresa ğŸ˜˜";
      noBtn.classList.add('hidden');
      launchHearts();
    });

    function launchHearts(){
      const hearts = ["ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’•","â¤ï¸","ğŸ˜","ğŸ˜˜"];
      const burst = 42;
      for(let i=0;i<burst;i++){
        const el = document.createElement("div");
        el.className = "heart";
        el.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        el.style.left = (Math.random()*window.innerWidth) + "px";
        el.style.top  = (window.innerHeight - 40 + Math.random()*20) + "px";
        el.style.fontSize = (18 + Math.random()*18) + "px";
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 1700);
      }
    }

    // PosiciÃ³n inicial del No
    moveNoButton();
  </script>
</body>
</html>
